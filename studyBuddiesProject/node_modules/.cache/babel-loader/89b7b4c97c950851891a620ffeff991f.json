{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Chris/Desktop/hackathon/studdybuddies/studyBuddiesProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Participant from\"./Participant\";const Room=({roomName,room,handleLogout})=>{const _useState=useState([]),_useState2=_slicedToArray(_useState,2),participants=_useState2[0],setParticipants=_useState2[1];useEffect(()=>{const participantConnected=participant=>{setParticipants(prevParticipants=>[...prevParticipants,participant]);};const participantDisconnected=participant=>{setParticipants(prevParticipants=>prevParticipants.filter(p=>p!==participant));};room.on(\"participantConnected\",participantConnected);room.on(\"participantDisconnected\",participantDisconnected);room.participants.forEach(participantConnected);return()=>{room.off(\"participantConnected\",participantConnected);room.off(\"participantDisconnected\",participantDisconnected);};},[room]);const remoteParticipants=participants.map(participant=>/*#__PURE__*/_jsx(Participant,{participant:participant},participant.sid));return/*#__PURE__*/_jsxs(\"div\",{className:\"room\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Room: \",roomName]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Log out\"}),/*#__PURE__*/_jsx(\"div\",{className:\"local-participant\",children:room?/*#__PURE__*/_jsx(Participant,{participant:room.localParticipant},room.localParticipant.sid):\"\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Remote Participants\"}),/*#__PURE__*/_jsx(\"div\",{className:\"remote-participants\",children:remoteParticipants})]});};export default Room;","map":{"version":3,"sources":["C:/Users/Chris/Desktop/hackathon/studdybuddies/studyBuddiesProject/src/Room.js"],"names":["React","useEffect","useState","Participant","Room","roomName","room","handleLogout","participants","setParticipants","participantConnected","participant","prevParticipants","participantDisconnected","filter","p","on","forEach","off","remoteParticipants","map","sid","localParticipant"],"mappings":"iRAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CAEA,KAAMC,CAAAA,IAAI,CAAG,CAAC,CAAEC,QAAF,CAAYC,IAAZ,CAAkBC,YAAlB,CAAD,GAAsC,iBACTL,QAAQ,CAAC,EAAD,CADC,wCAC1CM,YAD0C,eAC5BC,eAD4B,eAGjDR,SAAS,CAAC,IAAM,CACd,KAAMS,CAAAA,oBAAoB,CAAIC,WAAD,EAAiB,CAC5CF,eAAe,CAAEG,gBAAD,EAAsB,CAAC,GAAGA,gBAAJ,CAAsBD,WAAtB,CAAvB,CAAf,CACD,CAFD,CAIA,KAAME,CAAAA,uBAAuB,CAAIF,WAAD,EAAiB,CAC/CF,eAAe,CAAEG,gBAAD,EACdA,gBAAgB,CAACE,MAAjB,CAAyBC,CAAD,EAAOA,CAAC,GAAKJ,WAArC,CADa,CAAf,CAGD,CAJD,CAMAL,IAAI,CAACU,EAAL,CAAQ,sBAAR,CAAgCN,oBAAhC,EACAJ,IAAI,CAACU,EAAL,CAAQ,yBAAR,CAAmCH,uBAAnC,EACAP,IAAI,CAACE,YAAL,CAAkBS,OAAlB,CAA0BP,oBAA1B,EACA,MAAO,IAAM,CACXJ,IAAI,CAACY,GAAL,CAAS,sBAAT,CAAiCR,oBAAjC,EACAJ,IAAI,CAACY,GAAL,CAAS,yBAAT,CAAoCL,uBAApC,EACD,CAHD,CAID,CAlBQ,CAkBN,CAACP,IAAD,CAlBM,CAAT,CAoBA,KAAMa,CAAAA,kBAAkB,CAAGX,YAAY,CAACY,GAAb,CAAkBT,WAAD,eAC1C,KAAC,WAAD,EAAmC,WAAW,CAAEA,WAAhD,EAAkBA,WAAW,CAACU,GAA9B,CADyB,CAA3B,CAIA,mBACE,aAAK,SAAS,CAAC,MAAf,wBACE,+BAAWhB,QAAX,GADF,cAEE,eAAQ,OAAO,CAAEE,YAAjB,qBAFF,cAGE,YAAK,SAAS,CAAC,mBAAf,UACGD,IAAI,cACH,KAAC,WAAD,EAEE,WAAW,CAAEA,IAAI,CAACgB,gBAFpB,EACOhB,IAAI,CAACgB,gBAAL,CAAsBD,GAD7B,CADG,CAMH,EAPJ,EAHF,cAaE,2CAbF,cAcE,YAAK,SAAS,CAAC,qBAAf,UAAsCF,kBAAtC,EAdF,GADF,CAkBD,CA7CD,CA+CA,cAAef,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Participant from \"./Participant\";\r\n\r\nconst Room = ({ roomName, room, handleLogout }) => {\r\n  const [participants, setParticipants] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const participantConnected = (participant) => {\r\n      setParticipants((prevParticipants) => [...prevParticipants, participant]);\r\n    };\r\n\r\n    const participantDisconnected = (participant) => {\r\n      setParticipants((prevParticipants) =>\r\n        prevParticipants.filter((p) => p !== participant)\r\n      );\r\n    };\r\n\r\n    room.on(\"participantConnected\", participantConnected);\r\n    room.on(\"participantDisconnected\", participantDisconnected);\r\n    room.participants.forEach(participantConnected);\r\n    return () => {\r\n      room.off(\"participantConnected\", participantConnected);\r\n      room.off(\"participantDisconnected\", participantDisconnected);\r\n    };\r\n  }, [room]);\r\n\r\n  const remoteParticipants = participants.map((participant) => (\r\n    <Participant key={participant.sid} participant={participant} />\r\n  ));\r\n\r\n  return (\r\n    <div className=\"room\">\r\n      <h2>Room: {roomName}</h2>\r\n      <button onClick={handleLogout}>Log out</button>\r\n      <div className=\"local-participant\">\r\n        {room ? (\r\n          <Participant\r\n            key={room.localParticipant.sid}\r\n            participant={room.localParticipant}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n      <h3>Remote Participants</h3>\r\n      <div className=\"remote-participants\">{remoteParticipants}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n"]},"metadata":{},"sourceType":"module"}